---
page_title: "DX Provider"
subcategory: ""
description: |-
  Manage DX Service Cloud resources through Terraform.
---

# DX Provider

Interact with the DX Web API and declaratively manage Service Cloud resources.

## Example Usage

```terraform
terraform {
  required_providers {
    dx = {
      source  = "registry.terraform.io/get-dx/dx"
      version = "~> 0.4.0"
    }
  }
}

provider "dx" {
  # Define your Web API token here, or set `DX_WEB_API_TOKEN` in your environment.
  #
  # To manage scorecards, the token must have the following scopes:
  #
  # - scorecards:read
  # - scorecards:write
  #
  api_token = "<your api token>"
}

resource "dx_scorecard" "my_example_scorecard" {
  name                           = "My example scorecard"
  description                    = "This is a test scorecard"
  type                           = "LEVEL"
  entity_filter_type             = "entity_types"
  entity_filter_type_identifiers = ["service"]
  evaluation_frequency_hours     = 2
  empty_level_label              = "Incomplete"
  empty_level_color              = "#cccccc"
  published                      = true

  tags = [
    { value = "terraform" },
    { value = "test" },
    { value = "production" },
  ]

  levels = {
    bronze = {
      name  = "Bronze"
      color = "#FB923C"
      rank  = 1
    },
    silver = {
      name  = "Silver"
      color = "#9CA3AF"
      rank  = 2
    },
    gold = {
      name  = "Gold"
      color = "#FBBF24"
      rank  = 3
    },
  }

  checks = {
    test_check = {
      name                = "Test Check"
      scorecard_level_key = "bronze"
      ordering            = 0

      description        = "This is a test check"
      sql                = <<-EOT
        select
          'PASS' as status,
          123 as output
      EOT
      output_enabled     = true
      output_type        = "duration_seconds"
      output_aggregation = "median"
      external_url       = "http://example.com"
      published          = true
      estimated_dev_days = 1.5
    },
    another_check = {
      name                = "Another Check"
      scorecard_level_key = "silver"
      ordering            = 0

      description        = "This is a another test check"
      sql                = <<-EOT
        with random_number as (
          select ROUND(RANDOM() * 10) as value
        )
        select case
            when value >= 7 then 'PASS'
            when value >= 4 then 'WARN'
            else 'FAIL'
          end as status,
          value as output
        from random_number
      EOT
      output_enabled     = true
      output_type        = "duration_seconds"
      output_aggregation = "median"
      external_url       = "http://example.com"
      published          = false
    }
  }
}

resource "dx_entity_type" "repository" {
  identifier  = "repository"
  name        = "Repository"
  description = "A source code repository"

  properties = {
    team = {
      name        = "Owning Team"
      description = "The team that owns this repository"
      type        = "multi_select"
      visibility  = "visible"
      ordering    = 0
      options = [
        { value = "platform", color = "#3b82f6" },
        { value = "data", color = "#ef4444" },
        { value = "product", color = "#10b981" },
        { value = "infrastructure", color = "#f59e0b" }
      ]
    }
    language = {
      name        = "Primary Language"
      description = "The main programming language used"
      type        = "text"
      visibility  = "visible"
      ordering    = 1
    }
    tier = {
      name       = "Service Tier"
      type       = "multi_select"
      visibility = "hidden"
      ordering   = 2
      options = [
        { value = "tier_1", color = "#818cf8" },
        { value = "tier_2", color = "#a78bfa" },
        { value = "tier_3", color = "#c084fc" }
      ]
    }
    active_entities_count = {
      name        = "Active Entities Count"
      description = "Number of active entities for this repository"
      type        = "computed"
      visibility  = "visible"
      ordering    = 3
      sql         = "SELECT COUNT(*) FROM portal_entities WHERE identifier = $entity_identifier"
    }
    repository_url = {
      name                = "Repository URL"
      description         = "Link to the source code repository"
      type                = "url"
      visibility          = "visible"
      ordering            = 4
      call_to_action      = "View Repository"
      call_to_action_type = "text"
    }
  }

  aliases = {
    "github_repo" = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `api_token` (String, Sensitive) DX Web API token for authentication.
